{% extends 'meteo/base.html' %}
{% load static %}
 
{% block title %}Statistiques - MÃ©tÃ©o{% endblock %}
 
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'meteo/css/statistiques.css' %}">
{% endblock %}
 
{% block content %}
<div class="stats-header">
    <h1>ğŸ“Š Statistiques (DerniÃ¨res 24h)</h1>
    <p class="stats-subtitle">Analyse complÃ¨te des donnÃ©es mÃ©tÃ©orologiques</p>
</div>
 
<div class="stats-grid">
    <!-- TempÃ©rature -->
    {% if stats.temperature %}
    <div class="stat-card">
        <div class="stat-card-header">
            <span class="stat-icon">ğŸŒ¡ï¸</span>
            <h2>TempÃ©rature</h2>
        </div>
        <div class="stat-card-body">
            <div class="stat-row">
                <span class="stat-label">Minimum</span>
                <span class="stat-value stat-min">{{ stats.temperature.min|floatformat:1 }}Â°C</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Maximum</span>
                <span class="stat-value stat-max">{{ stats.temperature.max|floatformat:1 }}Â°C</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Moyenne</span>
                <span class="stat-value stat-avg">{{ stats.temperature.moyenne|floatformat:1 }}Â°C</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Mesures enregistrÃ©es</span>
                <span class="stat-value stat-count">{{ stats.temperature.nombre }}</span>
            </div>
        </div>
    </div>
    {% else %}
    <div class="stat-card">
        <div class="stat-card-header">
            <span class="stat-icon">ğŸŒ¡ï¸</span>
            <h2>TempÃ©rature</h2>
        </div>
        <div class="stat-card-body">
            <p class="no-data">Aucune donnÃ©e disponible</p>
        </div>
    </div>
    {% endif %}
 
    <!-- TODO : Ajouter la carte Pression ici -->
    <!-- Structure identique Ã  TempÃ©rature, utiliser stats.pression -->
    <!-- IcÃ´ne : ğŸ”», unite : hPa -->
 
    <!-- TODO : Ajouter la carte HumiditÃ© ici -->
    <!-- Structure identique Ã  TempÃ©rature, utiliser stats.humidite -->
    <!-- IcÃ´ne : ğŸ’§, unite : % -->
 
</div>
 
<!-- RÃ©sumÃ© gÃ©nÃ©ral -->
<div class="summary-section">
    <h2>RÃ©sumÃ© de la pÃ©riode</h2>
    <div class="summary-content">
        {% if stats.temperature %}
            <p>Durant les derniÃ¨res 24 heures, la tempÃ©rature a variÃ© de <strong>{{ stats.temperature.min|floatformat:1 }}Â°C</strong> Ã  <strong>{{ stats.temperature.max|floatformat:1 }}Â°C</strong> avec une moyenne de <strong>{{ stats.temperature.moyenne|floatformat:1 }}Â°C</strong>.</p>
            <p>Un total de <strong>{{ stats.temperature.nombre }}</strong> mesures de tempÃ©rature ont Ã©tÃ© enregistrÃ©es au cours de cette pÃ©riode.</p>
        {% else %}
            <p>Aucune donnÃ©e disponible pour le moment.</p>
        {% endif %}
    </div>
</div>
 
<!-- Bouton retour -->
<div class="action-section">
    <a href="{% url 'dashboard' %}" class="btn-back">â† Retour au Dashboard</a>
</div>
{% endblock %}
